，给个例子，你的系统部署的机器是 4 核 8G，数据库服务器是 16 核 32G。
此时假设你的系统用户量总共就 10 万，用户量很少，日活用户按照不同系统的场景有区别，我们取一个较为客观的比例，10% 吧，每天活跃的用户就 1 万。
按照 28 法则，每天高峰期算他 4 个小时，高峰期活跃的用户占比达到 80%，就是 8000 人活跃在 4 小时内。
然后每个人对你的系统发起的请求，我们算他每天是 20 次吧。那么高峰期 8000 人发起的请求也才 16 万次，平均到 4 小时内的每秒（14400 秒），每秒也就 10 次请求。
然后系统层面每秒是 10 次请求，对数据库的调用每次请求都会好几次数据库操作的，比如做做 crud 之类的。
那么我们取一个一次请求对应 3 次数据库请求吧，那这样的话，数据库层每秒也就 30 次请求，对不对？
按照这台数据库服务器的配置，支撑是绝对没问题的。

服务器（系统层面）高峰期不让达到500/s 300左右就可以  数据库不要超过2000/s 可以（读写分离）主从  写是主  读是从

往下读有压力，加缓存集群（单机每秒几万-几十万）。写有压力，加消息中间件集群（允许异步化的部分，进行削峰填谷 单机每秒几万-几十万）

可以根据系统的业务特性，对那种写少读多的请求，引入缓存集群。具体来说，就是在写数据库的时候同时写一份数据到缓存集群里，然后用缓存集群来承载大部分的读请求。
这样的话，通过缓存集群，就可以用更少的机器资源承载更高的并发

1000万的注册用户，可能每天日活用户也就100万

1个小时3600s  5个小时 18000s 

日活量 = 用户量*10%
每天高峰4小时的日活量 = 日活量*80%
系统层面每秒请求 = 每天高峰4小时的日活量*20次/人 /14400
数据库 = 系统层面每秒请求*39
