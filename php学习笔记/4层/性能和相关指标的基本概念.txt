系统吞吐量（tps  并发数  响应时间）


1.PV 
PV是 Page View的缩写。用户通过浏览器访问页面，对应用服务器产生的每一次请求，记为一个 PV
2.QPS/TPS
QPS/TPS原本含义为：系统每秒能处理的请求/事务的数量，或者说吞吐量。在web应用我们更关注的是web应用每秒能处理的request数量。这个是衡量系统性能的重要指标。
QPS（TPS）= 并发数/平均响应时间。
3.ResponseTime响应时间
响应时间(RT)是指从客户端发一个请求开始计时，到客户端接收到从服务器端返回的响应结果结束所经历的时间，响应时间由请求发送时间、网络传输时间和服务器处理时间三部分组成。




网站流量指标：（tps/rt/pv）
pv
UV
PR
IP


mysql


linux服务器


nginx
进程数等


负载均衡的几种方案比较
nginx 
lvs
haproxy

评估并发用户的方法：
并发用户数：是指现实系统中操作业务的用户，在性能测试工具中，一般称为虚拟用户数(Virutal User)。
并发用户数和注册用户数、在线用户数的概念不同，
1、并发用户数一定会对服务器产生压力的，
2、而在线用户数只是 ”挂” 在系统上，对服务器不产生压力，
3、注册用户数一般指的是数据库中存在的用户数。

TPS：Transaction Per Second, 每秒事务数, 是衡量系统性能的一个非常重要的指标。
TPS就是每秒事务数，但是事务是基于虚拟用户数的，
假如1个虚拟用户在1秒内完成1笔事务，那么TPS明显就是1；
如果 某笔业务响应时间是1ms,那么1个用户在1秒内能完成1000笔事务，TPS就是1000了；
如果某笔业务响应时间是1s,那么1个用户在1秒内只能完 成1笔事务，要想达到1000TPS，至少需要1000个用户；
因此可以说1个用户可以产生1000TPS，1000个用户也可以产生1000TPS，无非是看响应时间快慢。
TPS = 并发用户数/(响应时间 + Thinktime)

并发用户如何计算
一、经典公式1：
一般来说，利用以下经验公式进行估算系统的平均并发用户数和峰值数据
1）平均并发用户数为 C = nL/T
2）并发用户数峰值 C’ = C + 3*根号C
C是平均并发用户数，n是login session的数量，L是login session的平均长度，T是值考察的时间长度
C’是并发用户数峰值
举例1，假设系统A，该系统有3000个用户，平均每天大概有400个用户要访问该系统（可以从系统日志从获得），对于一个典型用户来说，一天之内用户从登陆到退出的平均时间为4小时，而在一天之内，用户只有在8小时之内会使用该系统。
那么，
平均并发用户数为：C = 400*4/8 = 200
并发用户数峰值为：C’ = 200 + 3*根号200 = 243

举例2， 某公司为其170000名员工设计了一个薪酬系统，员工可进入该系统查询自己的薪酬信息，但并不是每个人都会用这个系统，假设只有50%的人会定期用改系统，这些人里面有70%是在每个月的最后一周使用一次该系统，且平均使用系统时间为5分钟。
则一个月最后一周的平均并发用户数为（朝九晚五）：
n = 170000*0.5*0.7/5 = 11900
C= 11900*5/60/8 = 124
吞吐量计算为：F = Vu * R / T 单位为个/s
F为事务吞吐量，Vu为虚拟用户数个数，R为每个虚拟用户发出的请求数，T为处理这些请求所花费的时间

二、通用公式2：
对绝大多数场景，我们用（用户总量/统计时间）*影响因子（一般为3）来进行估算并发量。
比如，以乘坐地铁为例子，每天乘坐人数为5万人次，每天早高峰是7到9点，晚高峰是6到7点，根据8/2原则，80%的乘客会在高峰期间乘坐地铁，则每秒到达地铁检票口的人数为50000*80%/（3*60*60）=3.7，约4人/S，考虑到安检，入口关闭等因素，实际堆积在检票口的人数肯定比这个要大，假定每个人需要3秒才能进站，那实际并发应为4人/s*3s=12，当然影响因子可以根据实际情况增大！

三、根据PV计算并发数公式：
比如一个网站，每天的PV大概1000w，根据2/8原则，我们可以认为这1000w pv的80%是在一天的9个小时内完成的（人的精力有限），那么TPS为：
1000w*80%/(9*3600)=246.92个/s,取经验因子3，则并发量应为：
246.92*3=740

四、根据TPS估计并发数：
公式为 C = (Think time + 1)*TPS
五、根据系统用户数计算：
并发用户数 = 系统最大在线用户数的8%到12% 或 8%到15%